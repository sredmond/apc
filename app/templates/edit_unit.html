{% extends 'layout.html' -%}
{% block content -%}
<h2>Edit Unit<button type="button" class="btn btn-default pull-right" id="help" data-container="body" data-toggle="popover" data-placement="left" data-content="Sample text">Help</button></h2>
<form role="form" class="form-horizontal" method="post" action="{{ url_for('edit_unit', unit_id=id) }}">
	<div class="form-group">
	    <label for="title">Title</label>
	    <input type="text" class="form-control" id="title" name="title" value="{{ u.title }}" placeholder="{{ u.title }}" required>
  </div>
  <div class="form-group">
    <label for="description">Description</label>
    <input type="text" class="form-control" id="description" name="description" value="{{ u.description }}" placeholder="{{ u.description }}" required>
  </div>
  <button type="submit" class="btn btn-primary" tabindex="-1">Update</button>
</form>
<h4>Associated classes</h4>
<div class="panel-group">
	{% for class in u.classes.all() %}
	<div class="panel panel-default">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a data-toggle="collapse" data-target="{{ '#collapse-class' ~ loop.index }}">
					(#{{ class.id }}): {{ momentjs(class.epoch_time).calendar() }}
				</a>
			</h4>
		</div>
		<div id="{{ 'collapse-class' ~ loop.index }}" class="panel-collapse collapse">
			<div class="panel-body">
				<dl class="dl-horizontal">
					<dt>Class Log</dt>
					<dd>
						<ul class="list-unstyled">
						{% for item in class.getItems() %}
							<li>{{ item }}</li>
						{% else %}
							<li>No items in class log</li>
						{% endfor %}
						</ul>
					</dd>
					<dt>Homework</dt>
					<dd>{{ class.homework }}</dd>
					<dt>Additional</dt>
					<dd>{{ class.additional }}</dd>
				</dl>
			</div>
		</div>
	</div>
	{% else %}
	<p>None</p>
	{% endfor %}
</div>
{% endblock %}