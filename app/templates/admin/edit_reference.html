{% extends 'layout.html' %}
{% block content %}
<h2>Edit Reference</h2>
<form role="form" class="form-horizontal" method="POST" action="{{ url_for('edit_reference', reference_id=ref.id) }}">
	<div class="form-group">
	    <label for="title">Title</label>
	    <input type="text" class="form-control" id="title" name="title" placeholder="{{ ref.title }}" value="{{ ref.title }}" required>
  </div>
    <div class="form-group">
    <label for="href">Link to:</label>
    <input type="text" class="form-control" id="href" name="href" value="{{ ref.href }}" placeholder="{{ ref.href }}" required>
  </div>
  <div class="form-group">
    <label for="media-type">Media Type <small>e.g. PDF, Video (4:32), Applet, Simulation, Visualization</small></label>
    <input type="text" class="form-control" id="media-type" name="media-type" value="{{ ref.media_type }}" placeholder="{{ ref.media_type }}" required>
  </div>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead>
        <tr>
          <td>#</td>
          <td>Reference</td>
          <td>Media Type</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td><a href="{{ ref.href }}" id="href-preview"><span id="title-preview">{{ ref.title }}</span></a></td>
          <td><span id="media-type-preview">{{ ref.media_type }}</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <button type="submit" class="btn btn-primary" tabindex="-1">Update!</button>
</form>
{% endblock %}
{% block scripts %}
<script>
  $('#title').keyup(function() {
    $("#title-preview").html($(this).val());
  });
  $('#href').keyup(function() {
    $("#href-preview").attr('href', $(this).val());
  });
  $('#media-type').keyup(function() {
    $("#media-type-preview").html($(this).val());
  });
</script>
{% endblock %}